<!doctype html>
<html lang="en-gb" data-theme="dark">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Embedding YouTube videos for performance</title>
<script>  
  const savedTheme = localStorage.getItem('theme');
  if (savedTheme) {
    document.documentElement.setAttribute('data-theme', savedTheme);
  } else if (window.matchMedia('(prefers-color-scheme: dark)').matches) {
    document.documentElement.setAttribute('data-theme', 'dark');
  }
</script> 
<link rel="icon" type="img/x-icon" href="/svg/favicon.svg">
<link rel="icon" href="img/favicon.ico" sizes="any">

<meta name="description" content="Looking at a web component called Lite YouTube Embed by Paul Irish which allows us to embed YouTube videos without automatically forcing  visitors to download all of YouTube&#39;s associated assets.">
<link rel="alternate" href="feed/feed.xml" type="application/atom+xml" title="No Script Show | Making Websites Simple Again.">

<link rel="stylesheet" href="/dist/DP4FwdfIUi.css">

   
 
 <link rel="preload" as="image" href="https://i.ytimg.com/vi_webp/dt3XR_X22GY/maxresdefault.webp">
 
		
<!-- Open Graph / Facebook -->
<meta property="og:type" content="website">
<meta property="og:url" content="https://noscript.show/learn/6/">
<meta property="og:title" content="No Script Show Embedding YouTube videos for performance">
<meta property="og:description" content="Looking at a web component called Lite YouTube Embed by Paul Irish which allows us to embed YouTube videos without automatically forcing  visitors to download all of YouTube&#39;s associated assets.">

<meta property="og:image" content="https://i.ytimg.com/vi_webp/dt3XR_X22GY/maxresdefault.webp">


<!-- Twitter -->
<meta property="twitter:card" content="summary_large_image">
<meta property="twitter:url" content="https://noscript.show/learn/6/">
<meta property="twitter:title" content="No Script Show Embedding YouTube videos for performance">
<meta property="twitter:description" content="Looking at a web component called Lite YouTube Embed by Paul Irish which allows us to embed YouTube videos without automatically forcing  visitors to download all of YouTube&#39;s associated assets.">

<meta property="twitter:image" content="https://i.ytimg.com/vi_webp/dt3XR_X22GY/maxresdefault.webp">



 <link rel="preload" href="/fonts/UbuntuMono-Bold.woff2" as="font" type="font/woff2" crossorigin="">
 <link rel="preload" href="/fonts/UbuntuMono-Regular.woff2" as="font" type="font/woff2" crossorigin="">
 <meta name="generator" content="Eleventy v3.1.0">
</head>
<body id="top">
<a href="#skip" class="[ skip-link ]">Skip to main content</a>

<div class="[ top-bar ]">
<button class="[ toggle ]" data-theme-toggle="" id="theme-toggle" style="display: none" type="button" aria-label=" light and dark mode switch">
<img class="theme-icon" src="/svg/moon.svg" width="25" height="25" alt="">
</button>
</div>	

  <header>
<a class="logo" href="/"><svg viewBox="0 0 996 562" aria-labelledby="my-title" xmlns="http://www.w3.org/2000/svg" xml:space="preserve" style="fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:2">
<title id="my-title">No Script Show Logo</title>
<path d="m89.775 203.598 71.329 39.531q5.37 3.007 7.143 5.371 1.773 2.363 1.773 6.016 0 4.619-3.33 8.003-3.331 3.383-7.735 3.383-2.9 0-8.701-3.222l-106.24-59.082 106.24-59.082q5.8-3.116 8.594-3.116 4.511 0 7.842 3.33t3.33 7.95q0 3.653-1.773 6.015-1.772 2.364-7.143 5.371z" style="fill:var(--text);fill-rule:nonzero" transform="translate(-147.298 -473.212)scale(3.34662)"></path><path d="m89.775 203.598 71.329 39.531q5.37 3.007 7.143 5.371 1.773 2.363 1.773 6.016 0 4.619-3.33 8.003-3.331 3.383-7.735 3.383-2.9 0-8.701-3.222l-106.24-59.082 106.24-59.082q5.8-3.116 8.594-3.116 4.511 0 7.842 3.33t3.33 7.95q0 3.653-1.773 6.015-1.772 2.364-7.143 5.371z" style="fill:var(--text);fill-rule:nonzero" transform="matrix(-3.34662 0 0 3.34662 1142.63 -473.212)"></path><path d="M400.121 176.416c0-25.872-12.477-46.876-27.845-46.876s-27.845 21.004-27.845 46.876v354.19c0 25.871 12.477 46.876 27.845 46.876s27.845-21.005 27.845-46.876z" style="fill:var(--brand)" transform="matrix(1.08506 0 0 .64455 96.053 -19.524)"></path><path d="M400.121 195.644c0-36.484-12.477-66.104-27.845-66.104s-27.845 29.62-27.845 66.104v315.734c0 36.484 12.477 66.104 27.845 66.104s27.845-29.62 27.845-66.104z" style="fill:var(--brand)" transform="matrix(.87132 0 0 .36703 263.224 78.585)"></path><path d="M400.121 256.642c0-70.15-12.477-127.102-27.845-127.102s-27.845 56.952-27.845 127.102V450.38c0 70.15 12.477 127.102 27.845 127.102s27.845-56.952 27.845-127.102z" style="fill:var(--brand)" transform="matrix(.7426 0 0 .16269 384.847 150.82)"></path><path d="M400.121 256.642c0-70.15-12.477-127.102-27.845-127.102s-27.845 56.952-27.845 127.102V450.38c0 70.15 12.477 127.102 27.845 127.102s27.845-56.952 27.845-127.102z" style="fill:var(--brand)" transform="matrix(.7426 0 0 .16269 63.41 150.82)"></path><path d="M400.121 198.434c0-38.024-12.477-68.894-27.845-68.894s-27.845 30.87-27.845 68.894v310.154c0 38.023 12.477 68.894 27.845 68.894s27.845-30.871 27.845-68.894z" style="fill:var(--brand)" transform="matrix(.9081 0 0 .36703 67.663 78.585)"></path><path d="M75.623 361.143v6.72h-16.32v52.704h-7.872v-52.704h-16.32v-6.72zm10.56 59.424v-65.184l7.968-1.344v22.656q1.92-.768 4.32-1.2t4.704-.432q5.088 0 8.496 1.488t5.424 4.176 2.88 6.432.864 8.256v25.152h-7.872v-23.424q0-8.256-2.304-11.664t-8.256-3.408q-2.496 0-4.848.528t-3.408 1.008v36.96zm66.048-45.6q9.024 0 13.92 5.616t4.896 17.04v2.784h-31.872q.48 6.912 4.56 10.512t11.472 3.6q4.224 0 7.2-.672t4.512-1.44l1.056 6.72q-1.44.768-5.184 1.632t-8.448.864q-5.76 0-10.128-1.776t-7.248-4.848-4.32-7.344-1.44-9.264q0-5.952 1.824-10.368t4.8-7.296 6.72-4.32a21.2 21.2 0 0 1 7.68-1.44m10.752 19.008q0-5.664-2.976-8.976t-7.872-3.312q-2.784 0-5.04 1.056a12.7 12.7 0 0 0-3.888 2.784 13.6 13.6 0 0 0-2.592 3.936 16.4 16.4 0 0 0-1.248 4.512zm95.04 26.592a537 537 0 0 0-6.144-14.448q-2.88-6.48-5.52-12.144a307 307 0 0 0-5.232-10.704q-2.592-5.04-5.28-10.128v47.424h-7.2v-59.424h8.064q3.936 7.2 6.864 12.576a252 252 0 0 1 5.376 10.416 259 259 0 0 1 4.752 10.368 744 744 0 0 1 5.184 12.336v-45.696h7.2v59.424zm57.504-22.272q0 5.28-1.488 9.552t-4.176 7.344a18.5 18.5 0 0 1-6.432 4.752q-3.744 1.68-8.16 1.68-4.32 0-8.016-1.68a18.6 18.6 0 0 1-6.384-4.752q-2.688-3.072-4.176-7.344t-1.488-9.552 1.488-9.6 4.176-7.344a18.9 18.9 0 0 1 6.384-4.704q3.696-1.68 8.016-1.68 4.416 0 8.16 1.68a18.8 18.8 0 0 1 6.432 4.704q2.688 3.024 4.176 7.344t1.488 9.6m-8.16 0q0-7.584-3.264-11.952t-8.832-4.368q-5.472 0-8.688 4.368t-3.216 11.952q0 7.488 3.216 11.856t8.688 4.368q5.568 0 8.832-4.368t3.264-11.856m82.464 16.704q6.048 0 9.216-2.304t3.168-6.912q0-2.784-1.152-4.752t-3.072-3.456a22 22 0 0 0-4.32-2.592 83 83 0 0 0-4.896-2.064 51 51 0 0 1-5.52-2.592 23 23 0 0 1-4.704-3.36 14.3 14.3 0 0 1-3.264-4.512q-1.2-2.592-1.2-6.144 0-7.776 4.896-12.144t13.632-4.368q2.4 0 4.752.336t4.368.816 3.6 1.152 2.544 1.344l-2.496 6.624q-1.92-1.152-5.28-2.304t-7.488-1.152q-4.32 0-7.488 2.16t-3.168 6.48q0 2.496.912 4.224a9.8 9.8 0 0 0 2.496 3.024q1.584 1.296 3.696 2.352a80 80 0 0 0 4.608 2.112 103 103 0 0 1 6.672 3.072q3.024 1.536 5.184 3.648t3.36 4.992 1.2 7.008q0 7.776-5.232 11.952t-15.024 4.176q-3.168 0-5.952-.432t-4.944-1.104a46 46 0 0 1-3.792-1.344q-1.632-.672-2.496-1.248l2.4-6.528q1.92 1.056 5.664 2.448t9.12 1.392m30.24-16.608q0-6.048 1.92-10.464t5.28-7.296 7.824-4.272 9.552-1.392q3.264 0 6.48.432t6.864 1.584l-1.824 6.816q-3.168-1.152-5.808-1.488a42 42 0 0 0-5.328-.336q-3.456 0-6.528.912t-5.328 2.88-3.6 5.088-1.344 7.536q0 4.224 1.248 7.248t3.504 4.992 5.424 2.928 7.008.96q3.072 0 5.904-.336t6.192-1.488l1.152 6.624a34.5 34.5 0 0 1-6.816 1.776q-3.456.528-7.488.528-5.376 0-9.84-1.488t-7.68-4.368-4.992-7.248-1.776-10.128m53.568 22.176v-42.144q9.792-3.36 19.776-3.36 3.072 0 5.856.24t6.144 1.008l-1.44 7.008q-3.072-.864-5.424-1.104t-5.136-.24q-5.856 0-11.904 1.632v36.96zm57.792-51.456q-2.496 0-4.32-1.728t-1.824-4.704 1.824-4.704 4.32-1.728q2.592 0 4.368 1.728t1.776 4.704-1.776 4.704-4.368 1.728m-2.016 13.536h-12.864v-6.624h20.736v27.36q0 6.624 1.824 8.88t5.472 2.256q2.784 0 5.136-.672t3.696-1.44l1.152 6.72a25 25 0 0 1-1.632.72q-1.056.432-2.448.816t-3.072.672-3.504.288q-4.224 0-7.008-1.152t-4.464-3.456-2.352-5.712-.672-7.92zm65.952 15.744q0-7.776-3.648-12.048t-9.504-4.272q-3.264 0-5.136.288t-2.928.672v28.128q1.344 1.248 3.936 2.304a14.1 14.1 0 0 0 5.376 1.056q3.168 0 5.424-1.248a10.5 10.5 0 0 0 3.696-3.408q1.44-2.16 2.112-5.088t.672-6.384m8.16 0q0 5.088-1.296 9.36t-3.744 7.344a17.2 17.2 0 0 1-6 4.8q-3.552 1.728-8.064 1.728-3.552 0-6.24-.864t-4.032-1.92v17.568h-7.968v-59.04q2.592-.768 6.672-1.536t9.36-.768q4.8 0 8.736 1.632t6.72 4.656 4.32 7.344 1.536 9.696m27.168-22.368h18.816v6.624h-18.816v20.736q0 3.36.48 5.472t1.584 3.408 2.832 1.776 4.224.48q3.456 0 5.568-.576a22 22 0 0 0 4.032-1.536l1.152 6.72q-1.344.576-4.272 1.536t-7.248.96q-4.992 0-8.16-1.152t-4.944-3.456-2.448-5.712-.672-7.92v-20.736h-9.408v-6.624h9.408v-12.48l7.872-1.344zm95.136 38.976q6.048 0 9.216-2.304t3.168-6.912q0-2.784-1.152-4.752t-3.072-3.456a22 22 0 0 0-4.32-2.592 83 83 0 0 0-4.896-2.064 51 51 0 0 1-5.52-2.592 23 23 0 0 1-4.704-3.36 14.3 14.3 0 0 1-3.264-4.512q-1.2-2.592-1.2-6.144 0-7.776 4.896-12.144t13.632-4.368q2.4 0 4.752.336t4.368.816 3.6 1.152 2.544 1.344l-2.496 6.624q-1.92-1.152-5.28-2.304t-7.488-1.152q-4.32 0-7.488 2.16t-3.168 6.48q0 2.496.912 4.224a9.8 9.8 0 0 0 2.496 3.024q1.584 1.296 3.696 2.352a80 80 0 0 0 4.608 2.112 103 103 0 0 1 6.672 3.072q3.024 1.536 5.184 3.648t3.36 4.992 1.2 7.008q0 7.776-5.232 11.952t-15.024 4.176q-3.168 0-5.952-.432t-4.944-1.104a46 46 0 0 1-3.792-1.344q-1.632-.672-2.496-1.248l2.4-6.528q1.92 1.056 5.664 2.448t9.12 1.392m32.352 5.568v-65.184l7.968-1.344v22.656q1.92-.768 4.32-1.2t4.704-.432q5.088 0 8.496 1.488t5.424 4.176 2.88 6.432.864 8.256v25.152h-7.872v-23.424q0-8.256-2.304-11.664t-8.256-3.408q-2.496 0-4.848.528t-3.408 1.008v36.96zm85.344-22.272q0 5.28-1.488 9.552t-4.176 7.344a18.5 18.5 0 0 1-6.432 4.752q-3.744 1.68-8.16 1.68-4.32 0-8.016-1.68a18.6 18.6 0 0 1-6.384-4.752q-2.688-3.072-4.176-7.344t-1.488-9.552 1.488-9.6 4.176-7.344a18.9 18.9 0 0 1 6.384-4.704q3.696-1.68 8.016-1.68 4.416 0 8.16 1.68a18.8 18.8 0 0 1 6.432 4.704q2.688 3.024 4.176 7.344t1.488 9.6m-8.16 0q0-7.584-3.264-11.952t-8.832-4.368q-5.472 0-8.688 4.368t-3.216 11.952q0 7.488 3.216 11.856t8.688 4.368q5.568 0 8.832-4.368t3.264-11.856m44.928 22.272q-1.44-3.264-2.496-5.952a370 370 0 0 1-2.064-5.376 220 220 0 0 1-2.016-5.616 547 547 0 0 0-2.352-6.672q-1.344 3.744-2.4 6.672a474 474 0 0 1-2.064 5.616 187 187 0 0 1-2.112 5.376 253 253 0 0 1-2.544 5.952h-5.952a333 333 0 0 1-4.464-23.376q-1.776-11.568-2.64-21.168h7.488q.288 3.744.624 7.344t.816 7.536 1.104 8.544 1.392 10.368q1.536-3.84 2.592-6.72a196 196 0 0 0 1.92-5.472 205 205 0 0 0 1.68-5.28 387 387 0 0 0 1.776-6.048h5.952l1.728 6.048a127 127 0 0 0 1.632 5.28l1.824 5.472q.96 2.88 2.4 6.624.864-5.28 1.536-9.792t1.152-8.496.864-7.728.672-7.68h7.2q-.48 4.8-1.152 10.272a264 264 0 0 1-1.632 11.232q-.96 5.76-2.112 11.664a369 369 0 0 1-2.4 11.376z" style="fill:var(--text);fill-rule:nonzero" transform="translate(-38.03 56.499)scale(1.15722)"></path></svg>
</a>

<nav>
<ul class="nav" aria-label="Main">





  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  


  

  

  

  

  

  

  

  

  

  

  

  


  

  

  

  

  

  

  


<li class="nav-item"><a href="/">
Home</a>
</li>





  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  


  

  

  

  

  

  

  

  

  

  

  

  


  

  

  

  

  

  

  


<li class="nav-item"><a href="/chat/">
Chat</a>
</li>





  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  


  

  

  

  

  

  

  

  

  

  

  

  


  

  

  

  

  

  

  


<li class="nav-item"><a href="/learn/" aria-current="true" aria-label="Currently viewing a single post under Learn.">
Learn</a>
</li>





  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  


  

  

  

  

  

  

  

  

  

  

  

  


  

  

  

  

  

  

  


<li class="nav-item"><a href="/build/">
Build</a>
</li><li class="[ nav-item ][ pill ]"><a href="#more-navigation" aria-label="More navigation links in the footer.">More <span aria-hidden="true">▼</span></a> </li>
</ul>
</nav>
</header>
<main class="[ page-layout ] [ flow ]" id="skip">			
				


<div class="[ popout ]">

<h1 class=" [ visually-hidden ]" id="embedding-youtube-videos-for-performance">Embedding YouTube videos for performance</h1>
<div class="[ popout ]">
<lite-youtube videoid="dt3XR_X22GY" style="background-image: url('https://i.ytimg.com/vi_webp/dt3XR_X22GY/maxresdefault.webp');">
  <a href="https://youtube.com/watch?v=dt3XR_X22GY" class="lyt-playbtn" title="Play Video">   
  </a>
</lite-youtube>


<div class="right-me">
<ul class="post-metadata">
	<li><time datetime="2024-03-06">06 March 2024</time></li>
	<li><a href="/tags/learn/" class="post-tag">learn</a></li>
</ul>
</div>
<article>
<heading-anchors>
<div class="[ flow ][ page-layout ]">
<p>Hello. This is following up to <a href="/5">episode 5</a> of the main chat where Nathan and I were talking about component based web design.</p>
<p>In that we touched on <a href="https://developer.mozilla.org/en-US/docs/Web/API/Web_components">web components</a> which in simple terms are “web standards” alternatives to 3rd party component libraries like React and Vue.js. The big plus is they will last as long as the web.</p>
<p>We've been experimenting with two web components for the media embeds on the show's constantly developing website:</p>
<ul>
<li>A Shadow Dom component for our audio chat player by Dave Rupert (which I'll cover in the next video) and what we are covering today..</li>
<li>A &quot;Light Dom&quot; component called <a href="https://github.com/paulirish/lite-youtube-embed/">Lite YouTube Embed</a> by Paul Irish which allows us to embed YouTube videos without forcing the visitors to download all of YouTube associated files regardless of whether the video is actually played.</li>
</ul>
<h2 id="lite-youtube-embed">Lite Youtube Embed</h2>
<p>What Lite YouTube Embed does is only downloads a YouTube thumbnail image of the video and places a SVG play button over it so it visibly looks the same as a regular embed.</p>
<p>This saves well over a megabyte on the initial page load (which is, in our case, more than 10 times the size of the page we are adding it to) Of course, when the user clicks on play the embed acts as normal, but I'm sure a decent percentage of people visiting our page will have already seen the video and are here for the additional text resources. According to <a href="https://medium.com/illumination/mr-beast-explains-why-you-shouldnt-put-outbound-links-into-posts-on-social-media-platforms-1b8bcf9ce198">Mr. Beast we should be avoiding external links in YouTube.</a></p>
<p>I'm surprised Google's YouTube embed does not do this by default, particularly since the default way of embedding almost certainly makes you fail their own <a href="https://pagespeed.web.dev/analysis/https-noscript-show-0/t1ya9i5v2y?form_factor=mobile">Core Web Vitals on page load.</a></p>
<p>If they downloaded files based on the user's actions, as this component does, I'm sure it would greatly benefit the environment (not to mention those users who pay proportionately more for their data particularly outside of the west).</p>
<p>But on the positive side, Paul Irish the author of this alternative is a Google employee who works on performance, Chrome DevTools, Lighthouse, and PageSpeed Insights.</p>
<p>Also for the last 8 years I have been using a <a href="https://www.labnol.org/internet/light-youtube-embeds/27941/">similar technique</a> by another Google developer Amit Agarwal (who seems to update his post on this according to the date shown).</p>
<p>The previous solution seemed to work perfectly, but I thought I would try Paul's as it is often recommended and is on Github where I can see if others have found issues I may have not tested for.</p>
<p>From my quite shallow understanding the main difference is that Paul Irish's solution is a web component in the sense that the Javascript used is registered to this custom element we put in our html.</p>
<pre class="language-html" tabindex="0"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>lite-youtube</span><span class="token punctuation">></span></span> content goes here <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>lite-youtube</span><span class="token punctuation">></span></span>  </code></pre>
<p>This is not a Shadow Dom component where the CSS is encapsulated in the Javascript (although there is a link to a <a href="https://github.com/justinribeiro/lite-youtube">forked Shadow Dom version</a>).</p>
<p>I've called it “Light DOM” as that is the favoured buzzword of the day but I think we could just call it HTML.</p>
<p>The instructions and examples on Github are straightforward and useful, but I did deviate a bit from them to push performance as much as possible. Certainly I would appreciate anyone letting me know if I have got it wrong.</p>
<p><img src="/img/Lite-you-tube-embed-page-speed.webp" alt="Screenshot of  a Page Speed Insights test showing a 100 score."></p>
<h2 id="the-css">The CSS</h2>
<hr>
<p>Firstly, I grabbed Paul's CSS which I put into my only style-sheet so it's cached ready for each page that might need it. Given CSS renders quickly and we have little of it on this site that makes the most sense to me.</p>
<p>As a side point, these days (and following some Google recommendations) I will separate large chunks of CSS that may just be used on a few rarely visited pages and add them to that page internally or inline. Something that back in the day would have been frowned upon, but now we have to balance what we load and against having one source of truth for our code.</p>
<p>I slightly slimmed and modernised the CSS For example we have now have aspect-ratio so don't need old CSS tricks hack to achieve this and change anything I saw that was not a logical property I may change this further but here is mine:</p>
<pre class="language-css" tabindex="0"><code class="language-css">   <span class="token comment">/* Youtube */</span>

<span class="token selector">lite-youtube</span> <span class="token punctuation">{</span>
  <span class="token property">position</span><span class="token punctuation">:</span> relative<span class="token punctuation">;</span>
  <span class="token property">display</span><span class="token punctuation">:</span> block<span class="token punctuation">;</span>
  <span class="token property">contain</span><span class="token punctuation">:</span> content<span class="token punctuation">;</span>
  <span class="token property">background-position</span><span class="token punctuation">:</span> center center<span class="token punctuation">;</span>
  <span class="token property">background-size</span><span class="token punctuation">:</span> cover<span class="token punctuation">;</span>
  <span class="token property">cursor</span><span class="token punctuation">:</span> pointer<span class="token punctuation">;</span> 
<span class="token punctuation">}</span>

<span class="token comment">/* gradient */</span>
<span class="token selector">lite-youtube::before</span> <span class="token punctuation">{</span>
  <span class="token property">content</span><span class="token punctuation">:</span> <span class="token function">attr</span><span class="token punctuation">(</span>data-title<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token property">display</span><span class="token punctuation">:</span> block<span class="token punctuation">;</span>
  <span class="token property">position</span><span class="token punctuation">:</span> absolute<span class="token punctuation">;</span>
  <span class="token property">inset-block-start</span><span class="token punctuation">:</span> 0<span class="token punctuation">;</span>
   <span class="token property">background-image</span><span class="token punctuation">:</span> <span class="token function">linear-gradient</span><span class="token punctuation">(</span>180deg<span class="token punctuation">,</span>
   <span class="token function">hsla</span><span class="token punctuation">(</span>0<span class="token punctuation">,</span> 0%<span class="token punctuation">,</span> 0%<span class="token punctuation">,</span> 0.67<span class="token punctuation">)</span> 0%<span class="token punctuation">,</span>
   <span class="token function">hsla</span><span class="token punctuation">(</span>0<span class="token punctuation">,</span> 0%<span class="token punctuation">,</span> 0%<span class="token punctuation">,</span> 0.54<span class="token punctuation">)</span> 14%<span class="token punctuation">,</span>
   <span class="token function">hsla</span><span class="token punctuation">(</span>0<span class="token punctuation">,</span> 0%<span class="token punctuation">,</span> 0%<span class="token punctuation">,</span> 0.15<span class="token punctuation">)</span> 54%<span class="token punctuation">,</span>
   <span class="token function">hsla</span><span class="token punctuation">(</span>0<span class="token punctuation">,</span> 0%<span class="token punctuation">,</span> 0%<span class="token punctuation">,</span> 0.051<span class="token punctuation">)</span> 72%<span class="token punctuation">,</span>
   <span class="token function">hsla</span><span class="token punctuation">(</span>0<span class="token punctuation">,</span> 0%<span class="token punctuation">,</span> 0%<span class="token punctuation">,</span> 0<span class="token punctuation">)</span> 94%<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token property">height</span><span class="token punctuation">:</span> 99px<span class="token punctuation">;</span>
  <span class="token property">width</span><span class="token punctuation">:</span> 100%<span class="token punctuation">;</span>  
  <span class="token property">overflow</span><span class="token punctuation">:</span> hidden<span class="token punctuation">;</span>
  <span class="token property">white-space</span><span class="token punctuation">:</span> nowrap<span class="token punctuation">;</span>
  <span class="token property">text-overflow</span><span class="token punctuation">:</span> ellipsis<span class="token punctuation">;</span>
  <span class="token property">box-sizing</span><span class="token punctuation">:</span> border-box<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token comment">/* responsive iframe with a 16:9 aspect ratio
  thanks https://css-tricks.com/responsive-iframes/
*/</span>
<span class="token selector">lite-youtube::after</span> <span class="token punctuation">{</span>
  <span class="token property">content</span><span class="token punctuation">:</span> <span class="token string">""</span><span class="token punctuation">;</span>
  <span class="token property">display</span><span class="token punctuation">:</span> block<span class="token punctuation">;</span>
 <span class="token comment">/* padding-bottom: calc(100% / (16 / 9)); */</span>
 <span class="token property">aspect-ratio</span><span class="token punctuation">:</span> 16 / 9 <span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token selector">lite-youtube > iframe</span> <span class="token punctuation">{</span>
<span class="token property">width</span><span class="token punctuation">:</span> 100%<span class="token punctuation">;</span>
<span class="token property">height</span><span class="token punctuation">:</span> 100%<span class="token punctuation">;</span>
<span class="token property">position</span><span class="token punctuation">:</span> absolute<span class="token punctuation">;</span>  
<span class="token property">inset-block-start</span><span class="token punctuation">:</span>0 <span class="token punctuation">;</span>
<span class="token property">inset-inline-start</span><span class="token punctuation">:</span>0 <span class="token punctuation">;</span>
  <span class="token property">border</span><span class="token punctuation">:</span> 0<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token comment">/* play button */</span>
<span class="token selector">lite-youtube > .lty-playbtn</span> <span class="token punctuation">{</span>
<span class="token property">display</span><span class="token punctuation">:</span> block<span class="token punctuation">;</span>
<span class="token property">width</span><span class="token punctuation">:</span> 100%<span class="token punctuation">;</span>
<span class="token property">height</span><span class="token punctuation">:</span> 100%<span class="token punctuation">;</span>
  <span class="token comment">/* …but visually it's still the same size */</span>
  <span class="token property">background</span><span class="token punctuation">:</span> no-repeat center/68px 48px<span class="token punctuation">;</span>
  <span class="token comment">/* YT's actual play button svg */</span>
  <span class="token property">background-image</span><span class="token punctuation">:</span> url
  <span class="token punctuation">(</span>'<span class="token property">data</span><span class="token punctuation">:</span>image/svg+xml<span class="token punctuation">;</span>utf8<span class="token punctuation">,</span>&lt;svg xmlns=<span class="token string">"http://www.w3.org/2000/svg"</span>
   viewBox=<span class="token string">"0 0 68 48"</span>>&lt;
   path d="M66.52 7.74c-.78-2.93-2.49-5.41-5.42-6.19C55.79.13
 34 0 34 0S12.21.13 6.9 1.55c-2.93.78-4.63
  3.26-5.42 6.19C.06 13.05 0
24 0 24s.06 10.95 1.48 16.26c.78 2.93 2.49 
5.41 5.42 6.19C12.21 47.87 34 48 34 48s21.79-.13
27.1-1.55c2.93-.78 4.64-3.26 5.42-6.19C67.94 
34.95 68 24 68 24s-.06-10.95-1.48-16.26z" 
fill=<span class="token string">"red"</span>/>&lt;   
path d=<span class="token string">"M45 24 27 14v20"</span>
 fill=<span class="token string">"white"</span>/>&lt;/svg>'<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token property">position</span><span class="token punctuation">:</span> absolute<span class="token punctuation">;</span>
  <span class="token property">cursor</span><span class="token punctuation">:</span> pointer<span class="token punctuation">;</span>
  <span class="token property">z-index</span><span class="token punctuation">:</span> 1<span class="token punctuation">;</span>
  <span class="token property">filter</span><span class="token punctuation">:</span> <span class="token function">grayscale</span><span class="token punctuation">(</span>25%<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token property">transition</span><span class="token punctuation">:</span> filter .1s <span class="token function">cubic-bezier</span><span class="token punctuation">(</span>0<span class="token punctuation">,</span> 0<span class="token punctuation">,</span> 0.2<span class="token punctuation">,</span> 1<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token property">border</span><span class="token punctuation">:</span> 0<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token selector">lite-youtube:hover > .lty-playbtn,
lite-youtube .lty-playbtn:focus</span> <span class="token punctuation">{</span>
  <span class="token property">filter</span><span class="token punctuation">:</span> none<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token comment">/* Post-click styles */</span>
<span class="token selector">lite-youtube.lyt-activated</span> <span class="token punctuation">{</span>
  <span class="token property">cursor</span><span class="token punctuation">:</span> unset<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token selector">lite-youtube.lyt-activated::before,
lite-youtube.lyt-activated > .lty-playbtn</span> <span class="token punctuation">{</span>
  <span class="token property">opacity</span><span class="token punctuation">:</span> 0<span class="token punctuation">;</span>
  <span class="token property">pointer-events</span><span class="token punctuation">:</span> none<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token selector">.lyt-visually-hidden</span> <span class="token punctuation">{</span>
  <span class="token property">clip</span><span class="token punctuation">:</span> <span class="token function">rect</span><span class="token punctuation">(</span>0 0 0 0<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token property">clip-path</span><span class="token punctuation">:</span> <span class="token function">inset</span><span class="token punctuation">(</span>50%<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token property">height</span><span class="token punctuation">:</span> 1px<span class="token punctuation">;</span>
  <span class="token property">overflow</span><span class="token punctuation">:</span> hidden<span class="token punctuation">;</span>
  <span class="token property">position</span><span class="token punctuation">:</span> absolute<span class="token punctuation">;</span>
  <span class="token property">white-space</span><span class="token punctuation">:</span> nowrap<span class="token punctuation">;</span>
  <span class="token property">width</span><span class="token punctuation">:</span> 1px<span class="token punctuation">;</span>
<span class="token punctuation">}</span></code></pre>
<h2 id="the-javascript">The Javascript</h2>
<p>I downloaded the Github Javascript file to my sites folder and linked to the pages it was needed on.</p>
<p>This file is well commented, but just to shave off a bit more for visitors I removed these and <a href="https://www.toptal.com/developers/javascript-minifier">minified the Javascript.</a> It compresses 1.7kb</p>
<h2 id="the-html">The HTML</h2>
<hr>
<p>With a space of over 700px for the video I need a slightly larger thumbnail than the default 480px which is what you would get if you did not specify an inline background image. The next size up was 640px which might look a bit poor on retina display.</p>
<p>1280px seemed a bit large but I accidentally discovered that YouTube serves a webp version and that saving made me go with that.</p>
<pre class="language-html" tabindex="0"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>lite-youtube</span> <span class="token attr-name">videoid</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>xx<span class="token punctuation">"</span></span>
<span class="token special-attr"><span class="token attr-name">style</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span><span class="token value css language-css"><span class="token property">background-image</span><span class="token punctuation">:</span> <span class="token url"><span class="token function">url</span><span class="token punctuation">(</span><span class="token string url">'https://i.ytimg.com/vi_webp/xx/maxresdefault.webp'</span><span class="token punctuation">)</span></span><span class="token punctuation">;</span></span><span class="token punctuation">"</span></span></span><span class="token punctuation">></span></span> 
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>lite-youtube</span><span class="token punctuation">></span></span></code></pre>
<p>This also stops Google's PageSpeed Insights from nagging me to “serve images in a next-gen format”. There is still a nag about “Serving static assets with an efficient cache policy” but I don't think there's anything I can do about that as it is on Google's servers.</p>
<p>You can see the issues if you run a <a href="https://pagespeed.web.dev/analysis/https-paulirish-github-io-lite-youtube-embed-variants-pe-html/i897dycxhw?form_factor=mobile">Pagespeed insights test on on the Lite Youtube Embed's demo page</a></p>
<p>The other thing PageSpeed Insights flagged up (under the SEO section) was that the link to YouTube was not crawlable so I formatted that differently. The main concern with this solution is many claimed this makes the video....</p>
<h2 id="not-indexable-by-google"><a href="https://github.com/paulirish/lite-youtube-embed/issues/105">Not Indexable by Google</a></h2>
<p>This is issue is now solved with iframe in a <noscript> tag within the Javascript.</noscript></p>
<p>Dave Smart's another suggestion was to add schema with this <a href="https://classyschema.org/Video?example=single">handy tool.</a></p>
<p>All you have to do is add your Youtube video and it generates the JSON script which I add just before the pages closing  tag. Incidentally, I put SEO stuff last in the head following a talk by performance expert Harry Robert called <a href="https://www.youtube.com/watch?v=UW1PEMBdX5E">&quot;Get your head straight&quot;.</a></p>
<p>I am not sure how important schema or rich snippets are these days. Some SEO's have started saying that with advances in machine learning technology i.e. Natural language processing (NLP) search engines are relying on them less.</p>
<p>I've added them just because it is so quick to do so, which was not the case when I was using WordPress, but it's &quot;swings and roundabouts&quot;: as WordPress plugins did automate other SEO meta data that I now have to do manually. I will talk about this another time.</p>
<h2 id="preloading-the-youtube-thumbnail">Preloading the YouTube thumbnail</h2>
<hr>
<p>One last thing before I go, is that I preloaded the Youtube thumbnail. As it was there at hand it seemed a quick copy and paste job that seemed to keep the PageSpeed Insights score more often at 100.</p>

</div>
</heading-anchors></article>



<div class="popout">

<ul class="links-nextprev"><li class="links-nextprev-prev">← Previous<br> <a href="/5/">What is component based web design?</a></li><li class="links-nextprev-next">Next →<br><a href="/6/">What&#39;s the big deal with container queries?</a></li>
</ul>
</div>
			
</div></div></main>	
  <footer>

<h2 class="[ angle ]" id="links">Links</h2>  

<div class="[ footer-wrapper ]">

<nav class="[ footer-links ][ fa1 ]">
<h3 id="audio-only-episodes">Audio only episodes</h3>

<ul> 
<li><a href="https://podcast.apple.com/us/podcast/no-script-show/id1721164461">Apple Podcast</a></li>  
<li><a href="https://open.spotify.com/show/3Ki7eEhpGheFpmJOzZ0WEi">Spotify</a></li> 
<li><a href="https://castbox.fm/channel/id5744674?utm_campaign=ex_share_ch&utm_medium=exlink&country=us">Castbox.fm</a></li>
<li><a href="https://play.pocketcasts.com/podcasts/5a979010-7be1-013c-dc7c-0e76ec147af9">Pocket Casts</a></li>  
<li><a href="https://www.podcastrepublic.net/podcast/1721164461">Podcast Republic</a></li>
</ul>
</nav>

<nav class="[ footer-links ][ fa2 ]" id="more-navigation" aria-label="More on this site">
<h3 id="more-navigation-2">More navigation</h3>
<ul>
<li><a href="/about">About</a></li>
<li><a href="/contact">Contact</a></li>        
<li><a href="/blog">Archive</a></li>
<li><a href="/feed/feed.xml">RSS Feed</a></li>
<li class="external-link"><a href="https://intrinsicframework.here24.co/">Intrinsic Framework <svg aria-hidden="true" fill="var(--text)" width="18px" height="18px" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
  <path fill-rule="evenodd" d="M19,14 L19,19 C19,20.1045695 18.1045695,21 17,21 L5,21 C3.8954305,21 3,20.1045695 3,19 L3,7 C3,5.8954305 3.8954305,5 5,5 L10,5 L10,7 L5,7 L5,19 L17,19 L17,14 L19,14 Z M18.9971001,6.41421356 L11.7042068,13.7071068 L10.2899933,12.2928932 L17.5828865,5 L12.9971001,5 L12.9971001,3 L20.9971001,3 L20.9971001,11 L18.9971001,11 L18.9971001,6.41421356 Z"></path>
</svg></a>
</li>
</ul>
</nav>
</div>
<div class="back-to-top">
<a class="btn" href="#top" aria-label="back to top"> Back to top <span aria-hidden="true">▲</span></a>
</div>
<div class="[ fa3 ]">
<small>© Copyright since 2023 | <a href="/privacy"> Privacy </a> | <em>Built with <a href="https://www.11ty.dev/">Eleventy v3.1.0</a></em>
</small>

 </div>
</footer>

		<!-- This page `/learn/6/` was built on 2025-06-22T12:46:04.534Z -->
		<script type="module" src="/dist/2it2F9Kmpn.js"></script>		
</body>
</html>