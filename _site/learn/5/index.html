<!doctype html>
<html lang="en-gb">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Accessibility - Skip nav links &amp; :focus-visible. No Script Show</title>
<meta name="description" content="Looking at links gaffs, aria labels, when to use target=&quot;_blank&quot; and underlining links with CSS.">
<link rel="alternate" href="feed/feed.xml" type="application/atom+xml" title="No Script Show">
		
<!-- Open Graph / Facebook -->
<meta property="og:type" content="website">
<meta property="og:url" content="https://noscript.show/learn/5/">
<meta property="og:title" content="No Script Show Accessibility - Skip nav links &amp; :focus-visible">
<meta property="og:description" content="Looking at links gaffs, aria labels, when to use target=&quot;_blank&quot; and underlining links with CSS.">
<meta property="og:image" content="https://i.ytimg.com/vi_webp/_KLBhO_7zW8/maxresdefault.webp">

<!-- Twitter -->
<meta property="twitter:card" content="summary_large_image">
<meta property="twitter:url" content="https://noscript.show/learn/5/">
<meta property="twitter:title" content="No Script Show Accessibility - Skip nav links &amp; :focus-visible">
<meta property="twitter:description" content="Looking at links gaffs, aria labels, when to use target=&quot;_blank&quot; and underlining links with CSS.">
<meta property="twitter:image" content="https://i.ytimg.com/vi_webp/_KLBhO_7zW8/maxresdefault.webp">
 <link rel="stylesheet" href="/css/index.css">

 <meta name="generator" content="Eleventy v3.0.0">
		
		
		
		
		
		
	</head>
	<body>
		<a href="#skip" class="visually-hidden">Skip to main content</a>

		<header>
			<a href="/" class="home-link">No Script Show</a>
			<nav>
				<h2 class="visually-hidden" id="top-level-navigation-menu">Top level navigation menu</h2>
				<ul class="nav">
					<li class="nav-item"><a href="/">Home</a></li>
					<li class="nav-item"><a href="/chat/">Chat</a></li>
					<li class="nav-item"><a href="/learn/">Learn</a></li>
					<li class="nav-item"><a href="/build/">Build</a></li>
					<li class="nav-item"><a href="/blog/">Archive</a></li>	

	 <button class="toggle" data-theme-toggle="" id="theme-toggle" style="display: none" type="button" aria-label=" light and dark mode switch">
        <img class="theme-icon" src="/svgs/moon.svg" width="25" height="25" alt="dark and light theme switcher">
      </button>
	 
	 
	</ul></nav>

		</header>

		<main id="skip">
			<heading-anchors>
				

<h1 class="visually-hidden" id="accessibility-skip-nav-links-and-focus-visible">Accessibility - Skip nav links &amp; :focus-visible</h1>


<lite-youtube videoid="_KLBhO_7zW8" style="background-image: url('https://i.ytimg.com/vi_webp/_KLBhO_7zW8/maxresdefault.webp');">
  <a href="https://youtube.com/watch?v=_KLBhO_7zW8" class="lyt-playbtn" title="Play Video">   
  </a>
</lite-youtube>


<br>

<ul class="post-metadata">
	<li><time datetime="2024-02-20">20 February 2024</time></li>
	<li><a href="/tags/learn/" class="post-tag">learn</a></li>
</ul>



<h2 id="transcript">TRANSCRIPT</h2>
<p>We've been progressively building the show's website with a first focus on trying to make the content as usable as we can before seriously tackling the aesthetics.</p>
<p>Now we have 5 items in the main navigation, it seemed like time to add a way for <strong>keyboard</strong> and <strong>screen readers</strong> users to be able to skip the repetition of these links and get to the main page content.</p>
<p>WCAG (the Web Content Accessibility Guidelines) does not specify &quot;skip nav links&quot;, but says we should have a mechanism to <a href="https://www.w3.org/WAI/WCAG21/Understanding/bypass-blocks.html">bypass blocks</a> of content that are repeated on multiple Web pages. Other examples they give are:</p>
<ul>
<li>News site's where the users may have to go though many article links to get to the main story and</li>
<li>Ecommerce sites where there could be many filter options before they can get to the products.</li>
</ul>
<p>Some sites also provide a <strong>&quot;skip to the footer&quot;</strong> option too.</p>
<p>We don't need that, but this has made me think about how footers are often used to dump less relevant content and legalese and how we might also want to allow people to skip that. Amazon does this by placing their &quot;back to top&quot; link at the start of their footer.</p>
<p>(Accidentally there's no legal links here as there's no tracking or cookies on this site)</p>
<p>Truefully, if it hadn't been for accessibility legislation increasing awareness (and we'll probably have more with the <a href="https://ec.europa.eu/social/main.jsp?catId=1202">European Accessibility Act</a> coming in 2025) I am not sure how much attention I would have paid to these things.</p>
<p>It's a shame I needed the law to encourage me to do the designer's main job of finding empathy with users, but now I think sharpening up these &quot;soft skills&quot; is becoming more vital. Not just to increase the reach of our website, but to highlight the advantages we have over AI.</p>
<p>As a sighted mouse user I almost never use the keyboard on web pages until recently when I had a temporary strain on my mouse hand. Presumably age will force me to do this more.</p>
<p>From my limited experience of tabbing my way around the web it is frustrating, but this must pale into insignificance compared with those with motor issues who have to navigate pages with <a href="https://webaim.org/articles/motor/assistive">head wands, mouth sticks or sip-and-puff switches.</a></p>
<p>While many off-the-shelf sites have &quot;skip to content links&quot; added by default they can make things even more confusing when addons (like forms) and DIY user mess up the tabbing order.</p>
<p>It is not difficult to add this yourself and do it right, but before I get into that I want to mention (as it's relevant) the new…</p>
<h3 id="focus-visible-pseudo-class">:focus-visible (pseudo class)</h3>
<p><a href="https://developer.mozilla.org/en-US/docs/Web/CSS/:focus-visible">:focus-visible</a> now has support across all major browsers and solves a problem that when a sighted mouse user clicks on a focusable element (like a button) they get a 'focus ring' that may only be needed to guide those using the tab key.</p>
<p>When I was in a page builder community this issue came up regularly with people saying how do I get rid of the ugly outline around the header text of my FAQ section when clicked. The reason was the accordion module marked up the titles with the button tag.</p>
<p>The <em>wrong</em> solution was to the add this CSS:</p>
<pre class="language-css" tabindex="0"><code class="language-css"><span class="token selector">:focus</span> <span class="token punctuation">{</span> <span class="token property">outline</span><span class="token punctuation">:</span> none<span class="token punctuation">;</span> <span class="token punctuation">}</span></code></pre>
<p><a href="https://www.a11yproject.com/posts/never-remove-css-outlines/">My solution</a> was to add JavaScript to detect a mouse action and then remove the outline. Now browsers will by magic (or heuristics) do this for us via its own user agent CSS. No need for JS.</p>
<p>Assuming we are not <a href="https://caniuse.com/?search=focus-visible">supporting IE</a>, we only have to remember to avoid using :focus (rather than :focus-visible) when we want to custom style our focus state as this will undo what browsers are now doing for us.</p>
<p>I have used this:</p>
<pre class="language-css" tabindex="0"><code class="language-css"><span class="token selector">:focus-visible</span><span class="token punctuation">{</span>
<span class="token property">outline</span><span class="token punctuation">:</span> 2px solid <span class="token function">var</span><span class="token punctuation">(</span>--accent<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token property">outline-offset</span><span class="token punctuation">:</span> .35rem<span class="token punctuation">;</span>
<span class="token property">border-radius</span><span class="token punctuation">:</span> .1rem<span class="token punctuation">;</span>
<span class="token punctuation">}</span> </code></pre>
<h3 id="skip-nav-links">Skip nav links</h3>
<h4 id="adding-the-html">Adding the HTML</h4>
<p>Ideally I would have set this up first, but the idea was to build up this starting with the bare minimum which was a single page.</p>
<p>I also wanted to see how far we could go using VS Code search and replace before having to bring in a CMS or static site generator the manage the growing number of pages</p>
<p>To quickly add the skip links to all pages I went to VS Code's &quot;Edit tab&quot; and selected &quot;replace in files&quot;. I searched for the beginning</p>
<p>tag which gave me all the HTML pages and replace with:</p>
<pre class="language-html" tabindex="0"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>header</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>a</span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>#skip-to-main<span class="token punctuation">"</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>skip-link<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>Skip to content<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>a</span><span class="token punctuation">></span></span>    </code></pre>
<p>The link has an ID (skip-to-main) for the same page linking and a class (skip-link) or the styling</p>
<p>I repeated this search and replace to add where I wanted the skip link to go to in the document. I chose the maing tag Some use a H1:</p>
<pre class="language-html" tabindex="0"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>main</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>narrow<span class="token punctuation">"</span></span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>skip-to-main<span class="token punctuation">"</span></span><span class="token punctuation">></span></span></code></pre>
<p><strong>NOTE:</strong> I had to do this twice as there were two types of classes already added to the main tag.</p>
<h4 id="adding-the-css">Adding the CSS</h4>
<p>We needed some styles for the link and a way to hide it until it is focussed on. As I have already added a custom focus ring we have that already.</p>
<pre class="language-css" tabindex="0"><code class="language-css"><span class="token selector">.skip-link</span> <span class="token punctuation">{</span>
<span class="token property">position</span><span class="token punctuation">:</span> absolute<span class="token punctuation">;</span> 
<span class="token property">padding</span><span class="token punctuation">:</span> .3rem<span class="token punctuation">;</span>
<span class="token property">margin-inline-start</span><span class="token punctuation">:</span> .5rem<span class="token punctuation">;</span>
<span class="token property">background-color</span><span class="token punctuation">:</span> <span class="token function">var</span><span class="token punctuation">(</span>--shade<span class="token punctuation">)</span><span class="token punctuation">;</span>  
<span class="token property">text-decoration-thickness</span><span class="token punctuation">:</span> <span class="token function">max</span><span class="token punctuation">(</span>0.06rem<span class="token punctuation">,</span> 1px<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token property">text-underline-offset</span><span class="token punctuation">:</span> 0.2rem<span class="token punctuation">;</span> 
<span class="token property">z-index</span><span class="token punctuation">:</span> 10<span class="token punctuation">;</span>
<span class="token punctuation">}</span>  
<span class="token comment">/* styles the skip to content link */</span></code></pre>
<p>The most frustrating part of this is that CSS has multiple ways to hide content, but no specific display property for hiding content from all except screen reader or keyboard user.</p>
<p>We can't use</p>
<pre class="language-css" tabindex="0"><code class="language-css"><span class="token property">display</span><span class="token punctuation">:</span> none </code></pre>
<p>as this removes elements altogether. Because of this we have all sorts of over complex “belt and braces” approaches which have to get changed according to the changing inconsistency of screen readers and browser vendors</p>
<p>Here I have included what is used by <a href="https://tailwindcss.com/docs/screen-readers">Tailwind</a> and Bootstrap at the time of recording plus clip-path (that is supposed to replace the now deprecated clip property, but is used for old browsers).</p>
<pre class="language-css" tabindex="0"><code class="language-css"><span class="token selector">.skip-link:not(:focus)</span> <span class="token punctuation">{</span> 
<span class="token property">clip-path</span><span class="token punctuation">:</span> <span class="token function">inset</span><span class="token punctuation">(</span>50%<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token property">position</span><span class="token punctuation">:</span> absolute<span class="token punctuation">;</span>
<span class="token property">width</span><span class="token punctuation">:</span> 1px<span class="token punctuation">;</span> 
<span class="token property">height</span><span class="token punctuation">:</span> 1px<span class="token punctuation">;</span>
<span class="token property">padding</span><span class="token punctuation">:</span> 0<span class="token punctuation">;</span>
<span class="token property">margin</span><span class="token punctuation">:</span> -1px<span class="token punctuation">;</span>
<span class="token property">overflow</span><span class="token punctuation">:</span> hidden<span class="token punctuation">;</span>
<span class="token property">clip</span><span class="token punctuation">:</span> <span class="token function">rect</span><span class="token punctuation">(</span>0<span class="token punctuation">,</span> 0<span class="token punctuation">,</span> 0<span class="token punctuation">,</span> 0<span class="token punctuation">)</span><span class="token punctuation">;</span> 
<span class="token property">white-space</span><span class="token punctuation">:</span> nowrap<span class="token punctuation">;</span>
<span class="token property">border-width</span><span class="token punctuation">:</span> 0<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token comment">/* hides the link when not focussed */</span></code></pre>
<p>On the live site (for now) I have only added:</p>
<pre class="language-css" tabindex="0"><code class="language-css"><span class="token selector">.skip-link:not(:focus)</span> <span class="token punctuation">{</span> 
 <span class="token property">clip-path</span><span class="token punctuation">:</span> <span class="token function">inset</span><span class="token punctuation">(</span>50%<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span></code></pre>
<p>This is to see under what circumstance this today is not enough. Let me know if you see an issue. There was one with Safari, but I think it is fixed now.</p>
<p>What this does is clip all edges of the element to 50% effectively hiding everything.</p>
<p><a href="https://www.w3schools.com/accessibility/accessibility_skip_links.php">W3schools.com</a> take a different approach.</p>
<h3 id="other-links">Other links</h3>
<ul>
<li><a href="https://www.scottohara.me/blog/2023/03/21/visually-hidden-hack">Visually hidden content is a hack that needs to be resolved, not enshrined</a></li>
<li><a href="https://www.tpgi.com/the-anatomy-of-visually-hidden/">The anatomy of visually-hidden</a></li>
<li><a href="https://dev.to/merri/can-we-at-least-modernize-visually-hidden-n31">Can we at least modernize visually hidden?</a></li>
</ul>

<ul class="links-nextprev"><li class="links-nextprev-prev">← Previous<br> <a href="/learn/4/">Creating links that are not too hyper!</a></li><li class="links-nextprev-next">Next →<br><a href="/5/">What is component based web design?</a></li>
</ul>
			</heading-anchors>
		</main>

		<footer>
			<small><em>Built with <a href="https://www.11ty.dev/">Eleventy v3.0.0</a></em>
			| <a href="/feed/feed.xml">RSS Feed</a></small>
		</footer>

		<!-- This page `/learn/5/` was built on 2025-02-04T18:13:01.779Z -->
		<script type="module" src="/dist/4K3pE8YLmg.js"></script>
		<script src="/js/light-dark.js"></script>	
	</body>
</html>
